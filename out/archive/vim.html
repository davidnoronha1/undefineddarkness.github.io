<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="icon" type="image/png" href="/favicon.png" />
		<meta name="author" content="nes" />
		<title>Vi IMproved</title>
		<link rel="stylesheet" href="/assets/styles.css" />
	</head>
	<body>
	  <article>

<header><img class="img-sml" alt="art by u/astrellon3" src="/assets/images/dump/fd1bdbbb-2de7-4d24-ab5a-e883d5f2f103.webp" /><!-- TODO: recreate myself -->
<h1>Vi IMproved</h1></header><i>This is just a bunch of neat stuff I find related to Vim, maybe plugins, scripts or just neat settings.</i><br/>
<h2> Plugins</h2>
<p>
<ul>
<li><a href="https://github.com/dense-analysis/ale">üçª Asynchronous Linting Engine</a><br/>
A great plugin that takes care of Linting, Formatting & Autocompletion<br/>
Quite customizable but some bits are a bit dated by default.<br/>
</li>
</ul><br/><ul>
<li><a href="https://github.com/ap/vim-css-color">CSS Color</a><br/>
Highlight hex codes & web names for colors with the actual color :), works really well<br/>
Lacks support for some languages (lua) but that can be easily fixed via autocommand.<br/>
</li>
</ul><br/><ul>
<li><a href="https://github.com/sheerun/vim-polyglot">Polygot</a><br/>
Language pack for vim,<br/>
A good one to have since you do not notice it much unless you're very worried about startup times<br/>
</li>
</ul><br/><ul>
<li><a href="https://github.com/mattn/emmet-vim">Emmet</a><br/>
Essential if you edit HTML, You probably already know about this one.	<br/>
</li>
</ul><br/><ul>
<li><a href="https://github.com/eraserhd/parinfer-rust">Parinfer</a><br/>
Infer your parenthesis!<br/>
True bliss if you ever edit lisp code üò≥<br/>
Also use this, it helps a lot: <a href="https://github.com/junegunn/rainbow_parentheses.vim">junegunn/rainbow_parentheses.vim</a><br/>
</li>
</ul><br/><ul>
<li><a href="https://github.com/lambdalisue/fern.vim">üåµ Fern</a><br/>
Great alternative to NERDTree / netrw and imo a much better one<br/>
Feels pretty clean and nice to use,<br/>
If you're using neovim, <a href="kyazdani42/nvim-tree.lua">nvim-tree</a> will work much better for you & it has some nicer features.<br/>
</li>
</ul><br/><!-- Replace with something better -->
<ul>
<li><a href="https://github.com/itchyny/lightline.vim">Lightline</a><br/>
I don't use a status line but if I did I would use lightline, it works really well and is easy to customize <span class="in-margin"><a href="https://i.imgflip.com/5pb8qw.jpg">M</a><br/></span>
</li>
</ul><br/><ul>
<li><a href="https://github.com/nvim-telescope/telescope.nvim">üî≠ Telescope</a><br/>
I wish I had learnt about this before, its a really nice plugin, it generates a menu for you that allows to<br/>
search through files, content of files, anything and it can be mightly handy instead of fiddling with the wildmenu all day.<br/>
Vim users have <a href="junegunn/fzf.vim">fzf.vim</a> which does some similar stuff.<br/>
</li>
</ul><br/><ul>
<li><a href="https://github.com/folke/zen-mode.nvim">Zen Mode</a><br/>
This is an interesting one, What it does is slim down vim's UI so it becomes very bare bones, this is really useful<br/>
for when you are editing documents instead of code and need vim to done down the hacker man aesthetic.<br/>
This plugin is <a href="https://github.com/junegunn/goyo.vim">goyo</a> for vim users.<br/>
</li>
</ul><br/></p>
<h2> Configuration </h2>
<p>
Making the most out of vanilla vim features<br/>
<br/>
<details open>
<summary>NetRW</summary>
<p>
Using NetRW as a file tree.<br/>
From <a href="https://shapeshed.com/vim-netrw/">this post</a><br/>
tldr:<br/>
<pre class="showcase">
<code><span style="color:#a94598; font-weight:bold">let</span> g<span style="color:#181818">:</span>netrw_banner <span style="color:#181818">=</span> <span style="color:#c43e18">0</span> <span style="color:#898989; font-style:italic">&quot; Hide the banner</span>
<span style="color:#a94598; font-weight:bold">let</span> g<span style="color:#181818">:</span>netrw_browse_split <span style="color:#181818">=</span> <span style="color:#c43e18">3</span> <span style="color:#898989; font-style:italic">&quot; Open in new tab</span>
<span style="color:#a94598; font-weight:bold">let</span> g<span style="color:#181818">:</span>netrw_winsize <span style="color:#181818">=</span> <span style="color:#c43e18">25</span> <span style="color:#898989; font-style:italic">&quot; Size</span>
<span style="color:#a94598; font-weight:bold">let</span> g<span style="color:#181818">:</span>netrw_liststyle <span style="color:#181818">=</span> <span style="color:#c43e18">3</span> <span style="color:#898989; font-style:italic">&quot; Show files in tree form</span>
</code>
</pre>
See what each option does with <code>:help netrw-browser-settings</code><br/>
</p>
</details>
<br/>
<details open>
<summary>:Grep</summary>
<p>
Improving the :grep command to work similar to how <a href="https://github.com/mileszs/ack.vim">ack.vim</a> works<br/>
See the <a href="https://gist.github.com/romainl/56f0c28ef953ffc157f36cc495947ab3">full gist</a>, it explains everything<br/>
final snippet:<br/>
<pre class="showcase">
<code>function<span style="color:#181818">!</span> Grep<span style="color:#181818">(</span><span style="color:#c48218; font-weight:bold">...)</span>
	return system<span style="color:#181818">(</span><span style="color:#c48218; font-weight:bold">join([&amp;grepprg] + [expandcmd(join(a:000, &apos; &apos;))], &apos; &apos;))</span>
endfunction
command<span style="color:#181818">! -</span>nargs<span style="color:#181818">=+ -</span>complete<span style="color:#181818">=</span>file_in_path <span style="color:#181818">-</span>bar Grep  cgetexpr Grep<span style="color:#181818">(</span><span style="color:#c48218; font-weight:bold">&lt;f-args&gt;)</span>
command<span style="color:#181818">! -</span>nargs<span style="color:#181818">=+ -</span>complete<span style="color:#181818">=</span>file_in_path <span style="color:#181818">-</span>bar LGrep lgetexpr Grep<span style="color:#181818">(</span><span style="color:#c48218; font-weight:bold">&lt;f-args&gt;)</span>
<span style="color:#a94598; font-weight:bold">augroup</span> quickfix
	<span style="color:#a94598; font-weight:bold">autocmd</span><span style="color:#181818">!</span>
	<span style="color:#a94598; font-weight:bold">autocmd</span> QuickFixCmdPost cgetexpr cwindow
	<span style="color:#a94598; font-weight:bold">autocmd</span> QuickFixCmdPost lgetexpr lwindow
<span style="color:#a94598; font-weight:bold">augroup END</span>
</code>
</pre>
<br/>
</p>
</details>
<br/>
<details open>
<summary>Tab Indicator</summary>
<p>
If and only if you indent with tabs, vim can bestow upon you a slick tab line:<br/>
<code>set list lcs=tab:\‚îÇ\ " There is a space here :)</code><br/>
</p>
</details>
<br/>
<details open>
<summary>Export to HTML</summary>
<p>
This is a pretty neat capability I did not know vim had,<br/>
By the power of an included plugin, You can run <code>:TOhtml</code> to convert the entire current file to a HTML with all of vim's<br/>
syntax highlighted goodness,<br/>
And you can script it! Like so:<br/>
<pre class="showcase">
<code>lang<span style="color:#181818">=</span><span style="color:#38781c">&quot;</span><span style="color:#c43e18">$2</span><span style="color:#38781c">&quot;</span>
f<span style="color:#181818">=</span>$<span style="color:#181818">(</span>mktemp<span style="color:#181818">)</span>
<span style="color:#48bac2; font-weight:bold">echo</span> <span style="color:#38781c">&quot;</span><span style="color:#c43e18">$0</span><span style="color:#38781c">&quot;</span> | <span style="color:#9c5a02; font-weight:bold">head</span> <span style="color:#48bac2; font-weight:bold">-n -1</span> | nvim <span style="color:#48bac2; font-weight:bold">-n --headless</span> \
	<span style="color:#181818">+</span><span style="color:#38781c">&quot;let g:html_no_progress = 0&quot;</span>\
	<span style="color:#181818">+</span><span style="color:#38781c">&quot;let g:html_ignore_folding = 0&quot;</span>\
	<span style="color:#181818">+</span><span style="color:#38781c">&apos;let g:html_prevent_copy = &quot;fn&quot;&apos;</span>\
	<span style="color:#181818">+</span><span style="color:#38781c">&quot;set ft=</span><span style="color:#c43e18">$1</span><span style="color:#38781c">&quot;</span>\
	<span style="color:#181818">+</span><span style="color:#38781c">&quot;runtime! syntax/2html.vim&quot;</span>\
	<span style="color:#181818">+</span><span style="color:#38781c">&quot;wq!</span> <span style="color:#c43e18">$f</span><span style="color:#38781c">&quot;</span>\
	<span style="color:#181818">+</span><span style="color:#38781c">&quot;q!&quot;</span> <span style="color:#181818">-</span> <span style="color:#c43e18">1</span><span style="color:#181818">&gt; /</span>dev<span style="color:#181818">/</span>null
</code>
</pre>
You can see more options for it here: <a href="https://vimhelp.org/syntax.txt.html#%3ATOhtml">https://vimhelp.org/syntax.txt.html#%3ATOhtml</a> ,<br/>
<a href="/assets/make.html">Here</a> is a example file from the make script of this website.<br/>
* ‚úè <strike>This is now used to generate code syntax highlighting for this site.</strike> - Turns out it was way too slow<br/>
</p>
</details>
<br/>
<details open>
<summary>Improving :help and :Man</summary>
<p>
I find vim's help pages annoying to navigate since by default, its difficult to navigate between sections, this fixes it:<br/>
<code>au FileType help,man nnoremap &lt;buffer&gt; &lt;CR&gt; &lt;C-]&gt;</code><br/>
This makes it so hitting enter in a help buffer will try to just to the currently selected word <br/>
(the world the cursor is on.)<br/>
Here are some more nice shortcuts: <a href="https://vim.fandom.com/wiki/Learn_to_use_help#Simplify_help_navigation">https://vim.fandom.com/wiki/Learn_to_use_help#Simplify_help_navigation</a><br/>
<br/>
</p>
<h4> Using vim as a man pager </h4>
<p>
There are lots of ways to do it (documented <a href="https://vim.fandom.com/wiki/Using_vim_as_a_man-page_viewer_under_Unix">here</a> but <br/>
the simplest way I found is to simple alias <code>man</code>, like so in your shell configuration file:<br/>
<pre class="showcase">
<code>man <span style="color:#181818">() {</span>
	nvim <span style="color:#181818">+</span><span style="color:#38781c">&quot;Man</span> <span style="color:#c43e18">$2</span> <span style="color:#38781c"></span><span style="color:#c43e18">$1</span><span style="color:#38781c">&quot;</span> <span style="color:#181818">+</span><span style="color:#38781c">&quot;only&quot;</span>
<span style="color:#181818">}</span>
</code>
</pre>
If you use vim, remember to add this to your vimrc:<br/>
<code>runtime ftplugin/man.vim</code><br/>
as <code>:help ft-man-plugin</code> instructs you to.<br/>
<br/>
* This has some issues like files like <code>./local.man</code> but I do not often use this so its not a problem for me.<br/>
</p>
</details>
<br/>
<details open>
<summary>Linting</summary>
<p>
Here are a few useful gists on the topic:<br/>
<a href="https://gist.github.com/romainl/2f748f0c0079769e9532924b117f9252">https://gist.github.com/romainl/2f748f0c0079769e9532924b117f9252</a><br> <br/>
<a href="https://gist.github.com/romainl/ce55ce6fdc1659c5fbc0f4224fd6ad29">https://gist.github.com/romainl/ce55ce6fdc1659c5fbc0f4224fd6ad29</a><br/>
 <br/>
What I did to get <code>shellcheck</code> to work:<br/>
<ul>
<li>Setup an autocommand to set the <code>compiler</code> to <code>shellcheck -f gcc</code> for any shell files<br/>
</li>
<li>Used <a href="https://github.com/mh21/errormarker.vim">https://github.com/mh21/errormarker.vim</a> to get ALE like markings<br/>
</li>
<li>From error marker's readme: <code>let &errorformat="%f:%l:%c: %t%&ast;[^:]:%m,%f:%l: %t%&ast;[^:]:%m," . &errorformat</code><br/>
</li>
<li>Made vim run <code>:make</code> on file write.<br/>
</li>
</ul><br/>‚úè Actually I have reconsidered this, its way too painful for anything complicated over multiple lines, its a lot<br/>
simpler to just use ALE for those, fine for stuff like GCC or Shell check tho<br/>
</p>
</details>
<br/>
<details open>
<summary>Spell Checking & Dictionary Completion</summary>
<p>
As much as I hate to link a luke smith video, this one actually explains stuff so here you go: <a href="https://www.youtube.com/watch?v=ez1XBUqbS68">https://www.youtube.com/watch?v=ez1XBUqbS68</a><br/>
But basically:<br/>
<ul>
<li>Enable spell checking with <code>:set spell</code><br/>
</li>
<li>Add words to the white list with <code>zg</code><br/>
</li>
<li>Add words to the black list with <code>zug</code><br/>
</li>
<li>Go through the suggest corrections with <code>z=</code> while your cursor is over misspelled word.<br/>
</li>
</ul><br/>For dictionary completion, you can use the following snippet:<br/>
You might need to rewrite it in vim script for vim...<br/>
<pre class="showcase">
<code><span style="color:#a94598; font-weight:bold">local</span> spell_complete <span style="color:#181818">=</span> vim<span style="color:#181818">.</span>api<span style="color:#181818">.</span><span style="color:#c48218; font-weight:bold">nvim_replace_termcodes</span><span style="color:#181818">(</span><span style="color:#38781c">&apos;&lt;C-x&gt;&lt;C-k&gt;&apos;</span><span style="color:#181818">,</span> <span style="color:#a94598; font-weight:bold">true</span><span style="color:#181818">,</span> <span style="color:#a94598; font-weight:bold">true</span><span style="color:#181818">,</span> <span style="color:#a94598; font-weight:bold">true</span><span style="color:#181818">)</span> 
<span style="color:#a94598; font-weight:bold">local</span> M <span style="color:#181818">= {}</span>
<span style="color:#a94598; font-weight:bold">function</span> M<span style="color:#181818">.</span><span style="color:#c48218; font-weight:bold">spell</span><span style="color:#181818">()</span>
	<span style="color:#a94598; font-weight:bold">if</span> vim<span style="color:#181818">.</span>opt<span style="color:#181818">.</span>spell 
	<span style="color:#a94598; font-weight:bold">and</span> <span style="color:#181818">(</span>vim<span style="color:#181818">.</span>fn<span style="color:#181818">.</span><span style="color:#c48218; font-weight:bold">pumvisible</span><span style="color:#181818">() ==</span> <span style="color:#c43e18">0</span><span style="color:#181818">)</span> 
	<span style="color:#a94598; font-weight:bold">and</span> <span style="color:#181818">((</span>vim<span style="color:#181818">.</span>v<span style="color:#181818">.</span>char <span style="color:#181818">&gt;=</span> <span style="color:#38781c">&apos;a&apos;</span> <span style="color:#a94598; font-weight:bold">and</span> vim<span style="color:#181818">.</span>v<span style="color:#181818">.</span>char <span style="color:#181818">&lt;=</span> <span style="color:#38781c">&apos;z&apos;</span><span style="color:#181818">)</span> 
	<span style="color:#a94598; font-weight:bold">or</span> <span style="color:#181818">(</span>vim<span style="color:#181818">.</span>v<span style="color:#181818">.</span>char <span style="color:#181818">&gt;=</span> <span style="color:#38781c">&apos;A&apos;</span> <span style="color:#a94598; font-weight:bold">and</span> vim<span style="color:#181818">.</span>v<span style="color:#181818">.</span>char <span style="color:#181818">&lt;=</span> <span style="color:#38781c">&apos;Z&apos;</span><span style="color:#181818">))</span> <span style="color:#a94598; font-weight:bold">then</span>
		vim<span style="color:#181818">.</span>fn<span style="color:#181818">.</span><span style="color:#c48218; font-weight:bold">feedkeys</span><span style="color:#181818">(</span>spell_complete<span style="color:#181818">,</span> <span style="color:#38781c">&apos;n&apos;</span><span style="color:#181818">)</span>
	<span style="color:#a94598; font-weight:bold">end</span>
<span style="color:#a94598; font-weight:bold">end</span>
<span style="color:#a94598; font-weight:bold">function</span> M<span style="color:#181818">.</span><span style="color:#c48218; font-weight:bold">setup_spell</span><span style="color:#181818">()</span>
	vim<span style="color:#181818">.</span>opt<span style="color:#181818">.</span>spell <span style="color:#181818">=</span> <span style="color:#a94598; font-weight:bold">true</span>
	vim<span style="color:#181818">.</span>cmd <span style="color:#38781c">[[ </span>
<span style="color:#38781c">	autocmd InsertCharPre &ast; lua require(&apos;auto&apos;).spell() &quot; You&apos;ll need to change this </span>
<span style="color:#38781c">	]]</span>
<span style="color:#a94598; font-weight:bold">end</span>

<span style="color:#898989; font-style:italic">-- And this too:</span>
vim<span style="color:#181818">.</span>cmd <span style="color:#38781c">[[ au FileType markdown,html lua require(&apos;auto&apos;).setup_spell() ]]</span>

<span style="color:#a94598; font-weight:bold">return</span> M 
</code>
</pre>
It works, fairly <strike>well.</strike> badly, it has lots of issues when you have multiple buffers open...<br/>
</p>
</details>
<br/>
<hr />
<br/>
<center><i>~ More to come.. Maybe üöß ~</i></center><br/>
			<footer>
				<span class='in-margin'>‚úà</span>
				<a href="/out/index.html">Return To Index</a>
			</footer>
		</article>
	</body>
</html>
