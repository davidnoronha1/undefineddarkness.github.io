<!doctype html><html lang="en"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="apple-touch-icon" sizes="57x57" href="/favicon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/favicon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/favicon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/favicon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/favicon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/favicon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/favicon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/favicon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/favicon-180x180.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/favicon-192x192.png"><link rel="shortcut icon" type="image/x-icon" href="/assets/icons/favicon.ico"><link rel="icon" type="image/x-icon" href="/assets/icons/favicon.ico"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/icons/favicon-144x144.png"><meta name="msapplication-config" content="/assets/icons/browserconfig.xml"><meta name="author" content="nes"><title>Wayland</title><meta property="og:title" content="Wayland"><meta property="og:type" content="article"><meta property="og:url" content="https://nes.is-a.dev/out/2021/wayland.html"><meta property="og:image" content="https://ia.media-imdb.com/images/rock.jpg"><link rel="stylesheet" href="/assets/styles.css"><nav class="toc"><ul><li><a href="#window-manager-compositor">Window Manager (Compositor)</a><li class="toc-subheading"><a href="#screenshots">Screenshots</a><li><a href="#moving-from-xorg">Moving from Xorg</a><li class="toc-subheading"><a href="#bars">Bars</a></ul></nav><article><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai.min.css"><script defer="defer" src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/highlight.min.js" onload="hljs.highlightAll()"></script><header><h1>Wayland</h1></header><br><pre>
<code class="language-plaintext">                  ,____
                   |---.\
           ___     |    `
          / .-\  ./&equals;)
         |  |"|_/\/|
         ;  |-;| /_|
        / \_| |/ \ |
       /      \/\( |
       |   /  |` ) |
       /   \ _/    |
      /--._/  \    |
      `/|)    |    /
        /     |   |
      .'      |   |
     /         \  |
    (_.-.__.__./  /
</code>
</pre><i>Got a display server to kill</i><br>This is intended to chronicle my adventures using Wayland<br>The primary reason being terrible performance in X11 but that was later resolved. :)<br>The journey continues tho ðŸ“”<br><br><h2 id="window-manager-compositor">Window Manager (Compositor)</h2><p><i>I know its called a compositer but I am going to call it a window manager >:(</i>To fulfill this purpose I chose <a href="https://swaywm.org/">sway</a> as its the one I felt I could most get used to<br>since I had used its Xorg brother (i3) for a long while<br><br>And..<br>It works really well! It's performance is very impressive compared to what I am used to<br>I have a few scruples with its configuration format and its refusal to add features i3 lacks but oh well..,<br>not like I'm gonna be writing my own compositor any time soon<br><br>Coming from awesomewm, I would have liked to find something similar<br>and that sort of exists in the form of <a href="https://taiwins.org/index.html">Taiwins</a> but its very different from what I am used to<br>and I am not keen on using it as it is rather unstable and documentation is lacking<br><br><h3 id="screenshots">Screenshots</h3><p>What is the point of making a epic rice if there is no way to showcase it!<br>Wayland seems a bit more fiddly compared to the centralized xorg in terms of recording<br>but its not that bad. I had to use <a href="https://github.com/emersion/grim">grim</a> along with this <a href="https://github.com/swaywm/sway/blob/master/contrib/grimshot">script</a> from sway to get<br>Nothing particularly difficult but not as cohesive as id like :/<br><br><h2 id="moving-from-xorg">Moving from Xorg</h2><p>This is a bit of a generic header but oh well<br><br>Much to my surprise this wasnt as bad as I thought it would be,<br>rofi, wezterm, firefox & dunst - all programs I am used to from Xorg could work<br>natively (without Xwayland) on wayland<br><br>Although most of them required tweaking in some form or another<br><br><b>ROFI:</b> This does use a fork<pre>
<code class="language-sh">git clone --recurse-submodules <a href="https://github.com/lbonn/rofi">https://github.com/lbonn/rofi</a>
cd rofi
meson setup build -Dwayland&equals;enabled --prefix&equals;/usr/local
ninja -C build
ninja -C build install	</code>
</pre><p></p><b>FIREFOX:</b> Might need to modify some desktop files to get it to work right<pre>
<code class="language-plaintext">MOZ_ENABLE_WAYLAND&equals;1 firefox
</code>
</pre>** Wezterm has issues with the wayland clipboard. I think using <a href="https://codeberg.org/dnkl/foot">foot</a> would be a better idea ** Firefox crashed more often for me in wayland but that may or may not happen to you<p><h3 id="bars">Bars</h3><p>Compared to the choice on X11, bars in wayland are a bit ehhhh ig There are only 2 that I found:<ul><li>Yambar: <a href="https://codeberg.org/dnkl/yambar">https://codeberg.org/dnkl/yambar</a><li>Waybar: <a href="https://github.com/Alexays/Waybar">https://github.com/Alexays/Waybar</a></ul><br>Since I couldn't compile yambar even tho it seems pretty nice :/ I was forced to use waybar Both of them take after polybar very much which I personally am not much a fan off but ig it makes sense, If I were to revisit the topic of bars I will definitely look into using The one and only <a href="https://github.com/elkowar/eww/">eww</a> for this purpose.<hr>ðŸš§ This has been archived since I have not had the time to give a proper look at wayland, I do plan on looking at it again at some point, since whether I like it or not, it seems to be the future of Linux Desktop<footer style="margin-bottom:2em"><a class="special" href="/index.html">Return To Index</a></footer></article>