<span style="color:#0057ae">void</span> <span style="color:#010181">DrawModelEx</span><span style="color:#000000">(</span>Model model<span style="color:#000000">,</span> Vector3 position<span style="color:#000000">,</span> Vector3 rotationAxis<span style="color:#000000">,</span> <span style="color:#0057ae">float</span> rotationAngle<span style="color:#000000">,</span> Vector3 scale<span style="color:#000000">,</span> Color tint<span style="color:#000000">){</span>
    <span style="color:#838183; font-style:italic">// Calculate transformation matrix from function parameters</span>
    <span style="color:#838183; font-style:italic">// Get transform matrix (rotation -&gt; scale -&gt; translation)</span>
    Matrix matScale <span style="color:#000000">=</span> <span style="color:#010181">MatrixScale</span><span style="color:#000000">(</span>scale<span style="color:#000000">.</span>x<span style="color:#000000">,</span> scale<span style="color:#000000">.</span>y<span style="color:#000000">,</span> scale<span style="color:#000000">.</span>z<span style="color:#000000">);</span>
    Matrix matRotation <span style="color:#000000">=</span> <span style="color:#010181">MatrixRotate</span><span style="color:#000000">(</span>rotationAxis<span style="color:#000000">,</span> rotationAngle<span style="color:#000000">*</span>DEG2RAD<span style="color:#000000">);</span>
    Matrix matTranslation <span style="color:#000000">=</span> <span style="color:#010181">MatrixTranslate</span><span style="color:#000000">(</span>position<span style="color:#000000">.</span>x<span style="color:#000000">,</span> position<span style="color:#000000">.</span>y<span style="color:#000000">,</span> position<span style="color:#000000">.</span>z<span style="color:#000000">);</span>
    Matrix matTransform <span style="color:#000000">=</span> <span style="color:#010181">MatrixMultiply</span><span style="color:#000000">(</span><span style="color:#010181">MatrixMultiply</span><span style="color:#000000">(</span>matScale<span style="color:#000000">,</span> matRotation<span style="color:#000000">),</span> matTranslation<span style="color:#000000">);</span>
    <span style="color:#838183; font-style:italic">// Combine model transformation matrix (model.transform) with matrix generated by function parameters (matTransform)</span>
    model<span style="color:#000000">.</span>transform <span style="color:#000000">=</span> <span style="color:#010181">MatrixMultiply</span><span style="color:#000000">(</span>model<span style="color:#000000">.</span>transform<span style="color:#000000">,</span> matTransform<span style="color:#000000">);</span>
    <span style="color:#000000; font-weight:bold">for</span> <span style="color:#000000">(</span><span style="color:#0057ae">int</span> i <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span> i <span style="color:#000000">&lt;</span> model<span style="color:#000000">.</span>meshCount<span style="color:#000000">;</span> i<span style="color:#000000">++)</span>
    <span style="color:#000000">{</span>
        Color color <span style="color:#000000">=</span> model<span style="color:#000000">.</span>materials<span style="color:#000000">[</span>model<span style="color:#000000">.</span>meshMaterial<span style="color:#000000">[</span>i<span style="color:#000000">]].</span>maps<span style="color:#000000">[</span>MATERIAL_MAP_DIFFUSE<span style="color:#000000">].</span>color<span style="color:#000000">;</span>
        Color colorTint <span style="color:#000000">=</span> WHITE<span style="color:#000000">;</span>
        colorTint<span style="color:#000000">.</span>r <span style="color:#000000">= (</span><span style="color:#0057ae">unsigned char</span><span style="color:#000000">)((((</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>color<span style="color:#000000">.</span>r<span style="color:#000000">/</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">)*((</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>tint<span style="color:#000000">.</span>r<span style="color:#000000">/</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">))*</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">);</span>
        colorTint<span style="color:#000000">.</span>g <span style="color:#000000">= (</span><span style="color:#0057ae">unsigned char</span><span style="color:#000000">)((((</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>color<span style="color:#000000">.</span>g<span style="color:#000000">/</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">)*((</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>tint<span style="color:#000000">.</span>g<span style="color:#000000">/</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">))*</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">);</span>
        colorTint<span style="color:#000000">.</span>b <span style="color:#000000">= (</span><span style="color:#0057ae">unsigned char</span><span style="color:#000000">)((((</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>color<span style="color:#000000">.</span>b<span style="color:#000000">/</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">)*((</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>tint<span style="color:#000000">.</span>b<span style="color:#000000">/</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">))*</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">);</span>
        colorTint<span style="color:#000000">.</span>a <span style="color:#000000">= (</span><span style="color:#0057ae">unsigned char</span><span style="color:#000000">)((((</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>color<span style="color:#000000">.</span>a<span style="color:#000000">/</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">)*((</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>tint<span style="color:#000000">.</span>a<span style="color:#000000">/</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">))*</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">);</span>
        model<span style="color:#000000">.</span>materials<span style="color:#000000">[</span>model<span style="color:#000000">.</span>meshMaterial<span style="color:#000000">[</span>i<span style="color:#000000">]].</span>maps<span style="color:#000000">[</span>MATERIAL_MAP_DIFFUSE<span style="color:#000000">].</span>color <span style="color:#000000">=</span> colorTint<span style="color:#000000">;</span>
        <span style="color:#010181">DrawMesh</span><span style="color:#000000">(</span>model<span style="color:#000000">.</span>meshes<span style="color:#000000">[</span>i<span style="color:#000000">],</span> model<span style="color:#000000">.</span>materials<span style="color:#000000">[</span>model<span style="color:#000000">.</span>meshMaterial<span style="color:#000000">[</span>i<span style="color:#000000">]],</span> model<span style="color:#000000">.</span>transform<span style="color:#000000">);</span>
        model<span style="color:#000000">.</span>materials<span style="color:#000000">[</span>model<span style="color:#000000">.</span>meshMaterial<span style="color:#000000">[</span>i<span style="color:#000000">]].</span>maps<span style="color:#000000">[</span>MATERIAL_MAP_DIFFUSE<span style="color:#000000">].</span>color <span style="color:#000000">=</span> color<span style="color:#000000">;</span>
    <span style="color:#000000">}</span>
<span style="color:#000000">}</span>
