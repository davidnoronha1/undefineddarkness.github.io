Mesh <span style="color:#010181">GenMeshHeightmap</span><span style="color:#000000">(</span>Image heightmap<span style="color:#000000">,</span> Vector3 size<span style="color:#000000">){</span>
    <span style="color:#008200">#define GRAY_VALUE(c) ((float)(c.r + c.g + c.b)/3.0f)</span>
    Mesh mesh <span style="color:#000000">= {</span> <span style="color:#b07e00">0</span> <span style="color:#000000">};</span>
    <span style="color:#0057ae">int</span> mapX <span style="color:#000000">=</span> heightmap<span style="color:#000000">.</span>width<span style="color:#000000">;</span>
    <span style="color:#0057ae">int</span> mapZ <span style="color:#000000">=</span> heightmap<span style="color:#000000">.</span>height<span style="color:#000000">;</span>
    Color <span style="color:#000000">*</span>pixels <span style="color:#000000">=</span> <span style="color:#010181">LoadImageColors</span><span style="color:#000000">(</span>heightmap<span style="color:#000000">);</span>
    <span style="color:#838183; font-style:italic">// NOTE: One vertex per pixel</span>
    mesh<span style="color:#000000">.</span>triangleCount <span style="color:#000000">= (</span>mapX <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">)*(</span>mapZ <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">)*</span><span style="color:#b07e00">2</span><span style="color:#000000">;</span>    <span style="color:#838183; font-style:italic">// One quad every four pixels</span>
    mesh<span style="color:#000000">.</span>vertexCount <span style="color:#000000">=</span> mesh<span style="color:#000000">.</span>triangleCount<span style="color:#000000">*</span><span style="color:#b07e00">3</span><span style="color:#000000">;</span>
    mesh<span style="color:#000000">.</span>vertices <span style="color:#000000">= (</span><span style="color:#0057ae">float</span> <span style="color:#000000">*)</span><span style="color:#010181">RL_MALLOC</span><span style="color:#000000">(</span>mesh<span style="color:#000000">.</span>vertexCount<span style="color:#000000">*</span><span style="color:#b07e00">3</span><span style="color:#000000">*</span><span style="color:#000000; font-weight:bold">sizeof</span><span style="color:#000000">(</span><span style="color:#0057ae">float</span><span style="color:#000000">));</span>
    mesh<span style="color:#000000">.</span>normals <span style="color:#000000">= (</span><span style="color:#0057ae">float</span> <span style="color:#000000">*)</span><span style="color:#010181">RL_MALLOC</span><span style="color:#000000">(</span>mesh<span style="color:#000000">.</span>vertexCount<span style="color:#000000">*</span><span style="color:#b07e00">3</span><span style="color:#000000">*</span><span style="color:#000000; font-weight:bold">sizeof</span><span style="color:#000000">(</span><span style="color:#0057ae">float</span><span style="color:#000000">));</span>
    mesh<span style="color:#000000">.</span>texcoords <span style="color:#000000">= (</span><span style="color:#0057ae">float</span> <span style="color:#000000">*)</span><span style="color:#010181">RL_MALLOC</span><span style="color:#000000">(</span>mesh<span style="color:#000000">.</span>vertexCount<span style="color:#000000">*</span><span style="color:#b07e00">2</span><span style="color:#000000">*</span><span style="color:#000000; font-weight:bold">sizeof</span><span style="color:#000000">(</span><span style="color:#0057ae">float</span><span style="color:#000000">));</span>
    mesh<span style="color:#000000">.</span>colors <span style="color:#000000">=</span> NULL<span style="color:#000000">;</span>
    <span style="color:#0057ae">int</span> vCounter <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span>       <span style="color:#838183; font-style:italic">// Used to count vertices float by float</span>
    <span style="color:#0057ae">int</span> tcCounter <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span>      <span style="color:#838183; font-style:italic">// Used to count texcoords float by float</span>
    <span style="color:#0057ae">int</span> nCounter <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span>       <span style="color:#838183; font-style:italic">// Used to count normals float by float</span>
    Vector3 scaleFactor <span style="color:#000000">= {</span> size<span style="color:#000000">.</span>x<span style="color:#000000">/(</span>mapX <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">),</span> size<span style="color:#000000">.</span>y<span style="color:#000000">/</span><span style="color:#b07e00">255.0</span>f<span style="color:#000000">,</span> size<span style="color:#000000">.</span>z<span style="color:#000000">/(</span>mapZ <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">) };</span>
    Vector3 vA <span style="color:#000000">= {</span> <span style="color:#b07e00">0</span> <span style="color:#000000">};</span>
    Vector3 vB <span style="color:#000000">= {</span> <span style="color:#b07e00">0</span> <span style="color:#000000">};</span>
    Vector3 vC <span style="color:#000000">= {</span> <span style="color:#b07e00">0</span> <span style="color:#000000">};</span>
    Vector3 vN <span style="color:#000000">= {</span> <span style="color:#b07e00">0</span> <span style="color:#000000">};</span>
    <span style="color:#000000; font-weight:bold">for</span> <span style="color:#000000">(</span><span style="color:#0057ae">int</span> z <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span> z <span style="color:#000000">&lt;</span> mapZ<span style="color:#000000">-</span><span style="color:#b07e00">1</span><span style="color:#000000">;</span> z<span style="color:#000000">++)</span>
    <span style="color:#000000">{</span>
        <span style="color:#000000; font-weight:bold">for</span> <span style="color:#000000">(</span><span style="color:#0057ae">int</span> x <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span> x <span style="color:#000000">&lt;</span> mapX<span style="color:#000000">-</span><span style="color:#b07e00">1</span><span style="color:#000000">;</span> x<span style="color:#000000">++)</span>
        <span style="color:#000000">{</span>
            <span style="color:#838183; font-style:italic">// Fill vertices array with data</span>
            <span style="color:#838183; font-style:italic">//----------------------------------------------------------</span>
            <span style="color:#838183; font-style:italic">// one triangle - 3 vertex</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter<span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>x<span style="color:#000000">*</span>scaleFactor<span style="color:#000000">.</span>x<span style="color:#000000">;</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">] =</span> <span style="color:#010181">GRAY_VALUE</span><span style="color:#000000">(</span>pixels<span style="color:#000000">[</span>x <span style="color:#000000">+</span> z<span style="color:#000000">*</span>mapX<span style="color:#000000">])*</span>scaleFactor<span style="color:#000000">.</span>y<span style="color:#000000">;</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>z<span style="color:#000000">*</span>scaleFactor<span style="color:#000000">.</span>z<span style="color:#000000">;</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">3</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>x<span style="color:#000000">*</span>scaleFactor<span style="color:#000000">.</span>x<span style="color:#000000">;</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">4</span><span style="color:#000000">] =</span> <span style="color:#010181">GRAY_VALUE</span><span style="color:#000000">(</span>pixels<span style="color:#000000">[</span>x <span style="color:#000000">+ (</span>z <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">)*</span>mapX<span style="color:#000000">])*</span>scaleFactor<span style="color:#000000">.</span>y<span style="color:#000000">;</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">5</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)(</span>z <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">)*</span>scaleFactor<span style="color:#000000">.</span>z<span style="color:#000000">;</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">6</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)(</span>x <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">)*</span>scaleFactor<span style="color:#000000">.</span>x<span style="color:#000000">;</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">7</span><span style="color:#000000">] =</span> <span style="color:#010181">GRAY_VALUE</span><span style="color:#000000">(</span>pixels<span style="color:#000000">[(</span>x <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">) +</span> z<span style="color:#000000">*</span>mapX<span style="color:#000000">])*</span>scaleFactor<span style="color:#000000">.</span>y<span style="color:#000000">;</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">8</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>z<span style="color:#000000">*</span>scaleFactor<span style="color:#000000">.</span>z<span style="color:#000000">;</span>
            <span style="color:#838183; font-style:italic">// Another triangle - 3 vertex</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">9</span><span style="color:#000000">] =</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">6</span><span style="color:#000000">];</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">10</span><span style="color:#000000">] =</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">7</span><span style="color:#000000">];</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">11</span><span style="color:#000000">] =</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">8</span><span style="color:#000000">];</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">12</span><span style="color:#000000">] =</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">3</span><span style="color:#000000">];</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">13</span><span style="color:#000000">] =</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">4</span><span style="color:#000000">];</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">14</span><span style="color:#000000">] =</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">5</span><span style="color:#000000">];</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">15</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)(</span>x <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">)*</span>scaleFactor<span style="color:#000000">.</span>x<span style="color:#000000">;</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">16</span><span style="color:#000000">] =</span> <span style="color:#010181">GRAY_VALUE</span><span style="color:#000000">(</span>pixels<span style="color:#000000">[(</span>x <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">) + (</span>z <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">)*</span>mapX<span style="color:#000000">])*</span>scaleFactor<span style="color:#000000">.</span>y<span style="color:#000000">;</span>
            mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>vCounter <span style="color:#000000">+</span> <span style="color:#b07e00">17</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)(</span>z <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">)*</span>scaleFactor<span style="color:#000000">.</span>z<span style="color:#000000">;</span>
            vCounter <span style="color:#000000">+=</span> <span style="color:#b07e00">18</span><span style="color:#000000">;</span>     <span style="color:#838183; font-style:italic">// 6 vertex, 18 floats</span>
            <span style="color:#838183; font-style:italic">// Fill texcoords array with data</span>
            <span style="color:#838183; font-style:italic">//--------------------------------------------------------------</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter<span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>x<span style="color:#000000">/(</span>mapX <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">);</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>z<span style="color:#000000">/(</span>mapZ <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">);</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>x<span style="color:#000000">/(</span>mapX <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">);</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">3</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)(</span>z <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">)/(</span>mapZ <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">);</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">4</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)(</span>x <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">)/(</span>mapX <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">);</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">5</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)</span>z<span style="color:#000000">/(</span>mapZ <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">);</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">6</span><span style="color:#000000">] =</span> mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">4</span><span style="color:#000000">];</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">7</span><span style="color:#000000">] =</span> mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">5</span><span style="color:#000000">];</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">8</span><span style="color:#000000">] =</span> mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">];</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">9</span><span style="color:#000000">] =</span> mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">3</span><span style="color:#000000">];</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">10</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)(</span>x <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">)/(</span>mapX <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">);</span>
            mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>tcCounter <span style="color:#000000">+</span> <span style="color:#b07e00">11</span><span style="color:#000000">] = (</span><span style="color:#0057ae">float</span><span style="color:#000000">)(</span>z <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">)/(</span>mapZ <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">);</span>
            tcCounter <span style="color:#000000">+=</span> <span style="color:#b07e00">12</span><span style="color:#000000">;</span>    <span style="color:#838183; font-style:italic">// 6 texcoords, 12 floats</span>
            <span style="color:#838183; font-style:italic">// Fill normals array with data</span>
            <span style="color:#838183; font-style:italic">//--------------------------------------------------------------</span>
            <span style="color:#000000; font-weight:bold">for</span> <span style="color:#000000">(</span><span style="color:#0057ae">int</span> i <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span> i <span style="color:#000000">&lt;</span> <span style="color:#b07e00">18</span><span style="color:#000000">;</span> i <span style="color:#000000">+=</span> <span style="color:#b07e00">9</span><span style="color:#000000">)</span>
            <span style="color:#000000">{</span>
                vA<span style="color:#000000">.</span>x <span style="color:#000000">=</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i<span style="color:#000000">];</span>
                vA<span style="color:#000000">.</span>y <span style="color:#000000">=</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">];</span>
                vA<span style="color:#000000">.</span>z <span style="color:#000000">=</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">];</span>
                vB<span style="color:#000000">.</span>x <span style="color:#000000">=</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">3</span><span style="color:#000000">];</span>
                vB<span style="color:#000000">.</span>y <span style="color:#000000">=</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">4</span><span style="color:#000000">];</span>
                vB<span style="color:#000000">.</span>z <span style="color:#000000">=</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">5</span><span style="color:#000000">];</span>
                vC<span style="color:#000000">.</span>x <span style="color:#000000">=</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">6</span><span style="color:#000000">];</span>
                vC<span style="color:#000000">.</span>y <span style="color:#000000">=</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">7</span><span style="color:#000000">];</span>
                vC<span style="color:#000000">.</span>z <span style="color:#000000">=</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">8</span><span style="color:#000000">];</span>
                vN <span style="color:#000000">=</span> <span style="color:#010181">Vector3Normalize</span><span style="color:#000000">(</span><span style="color:#010181">Vector3CrossProduct</span><span style="color:#000000">(</span><span style="color:#010181">Vector3Subtract</span><span style="color:#000000">(</span>vB<span style="color:#000000">,</span> vA<span style="color:#000000">),</span> <span style="color:#010181">Vector3Subtract</span><span style="color:#000000">(</span>vC<span style="color:#000000">,</span> vA<span style="color:#000000">)));</span>
                mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i<span style="color:#000000">] =</span> vN<span style="color:#000000">.</span>x<span style="color:#000000">;</span>
                mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">] =</span> vN<span style="color:#000000">.</span>y<span style="color:#000000">;</span>
                mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">] =</span> vN<span style="color:#000000">.</span>z<span style="color:#000000">;</span>
                mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">3</span><span style="color:#000000">] =</span> vN<span style="color:#000000">.</span>x<span style="color:#000000">;</span>
                mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">4</span><span style="color:#000000">] =</span> vN<span style="color:#000000">.</span>y<span style="color:#000000">;</span>
                mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">5</span><span style="color:#000000">] =</span> vN<span style="color:#000000">.</span>z<span style="color:#000000">;</span>
                mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">6</span><span style="color:#000000">] =</span> vN<span style="color:#000000">.</span>x<span style="color:#000000">;</span>
                mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">7</span><span style="color:#000000">] =</span> vN<span style="color:#000000">.</span>y<span style="color:#000000">;</span>
                mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>nCounter <span style="color:#000000">+</span> i <span style="color:#000000">+</span> <span style="color:#b07e00">8</span><span style="color:#000000">] =</span> vN<span style="color:#000000">.</span>z<span style="color:#000000">;</span>
            <span style="color:#000000">}</span>
            nCounter <span style="color:#000000">+=</span> <span style="color:#b07e00">18</span><span style="color:#000000">;</span>     <span style="color:#838183; font-style:italic">// 6 vertex, 18 floats</span>
        <span style="color:#000000">}</span>
    <span style="color:#000000">}</span>
    <span style="color:#010181">UnloadImageColors</span><span style="color:#000000">(</span>pixels<span style="color:#000000">);</span>  <span style="color:#838183; font-style:italic">// Unload pixels color data</span>
    <span style="color:#838183; font-style:italic">// Upload vertex data to GPU (static mesh)</span>
    <span style="color:#010181">UploadMesh</span><span style="color:#000000">(&amp;</span>mesh<span style="color:#000000">,</span> <span style="color:#000000; font-weight:bold">false</span><span style="color:#000000">);</span>
    <span style="color:#000000; font-weight:bold">return</span> mesh<span style="color:#000000">;</span>
<span style="color:#000000">}</span>
