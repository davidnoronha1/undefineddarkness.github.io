<span style="color:#0057ae">int</span> <span style="color:#010181">GetCharPressed</span><span style="color:#000000">(</span><span style="color:#0057ae">void</span><span style="color:#000000">){</span>
    <span style="color:#0057ae">int</span> value <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span>
    <span style="color:#000000; font-weight:bold">if</span> <span style="color:#000000">(</span>CORE<span style="color:#000000">.</span>Input<span style="color:#000000">.</span>Keyboard<span style="color:#000000">.</span>charPressedQueueCount <span style="color:#000000">&gt;</span> <span style="color:#b07e00">0</span><span style="color:#000000">)</span>
    <span style="color:#000000">{</span>
        <span style="color:#838183; font-style:italic">// Get character from the queue head</span>
        value <span style="color:#000000">=</span> CORE<span style="color:#000000">.</span>Input<span style="color:#000000">.</span>Keyboard<span style="color:#000000">.</span>charPressedQueue<span style="color:#000000">[</span><span style="color:#b07e00">0</span><span style="color:#000000">];</span>
        <span style="color:#838183; font-style:italic">// Shift elements 1 step toward the head.</span>
        <span style="color:#000000; font-weight:bold">for</span> <span style="color:#000000">(</span><span style="color:#0057ae">int</span> i <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span> i <span style="color:#000000">&lt; (</span>CORE<span style="color:#000000">.</span>Input<span style="color:#000000">.</span>Keyboard<span style="color:#000000">.</span>charPressedQueueCount <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">);</span> i<span style="color:#000000">++)</span>
            CORE<span style="color:#000000">.</span>Input<span style="color:#000000">.</span>Keyboard<span style="color:#000000">.</span>charPressedQueue<span style="color:#000000">[</span>i<span style="color:#000000">] =</span> CORE<span style="color:#000000">.</span>Input<span style="color:#000000">.</span>Keyboard<span style="color:#000000">.</span>charPressedQueue<span style="color:#000000">[</span>i <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">];</span>
        <span style="color:#838183; font-style:italic">// Reset last character in the queue</span>
        CORE<span style="color:#000000">.</span>Input<span style="color:#000000">.</span>Keyboard<span style="color:#000000">.</span>charPressedQueue<span style="color:#000000">[</span>CORE<span style="color:#000000">.</span>Input<span style="color:#000000">.</span>Keyboard<span style="color:#000000">.</span>charPressedQueueCount <span style="color:#000000">-</span> <span style="color:#b07e00">1</span><span style="color:#000000">] =</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span>
        CORE<span style="color:#000000">.</span>Input<span style="color:#000000">.</span>Keyboard<span style="color:#000000">.</span>charPressedQueueCount<span style="color:#000000">--;</span>
    <span style="color:#000000">}</span>
    <span style="color:#000000; font-weight:bold">return</span> value<span style="color:#000000">;</span>
<span style="color:#000000">}</span>
