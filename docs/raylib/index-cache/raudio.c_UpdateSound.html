<span style="color:#0057ae">void</span> <span style="color:#010181">UpdateSound</span><span style="color:#000000">(</span>Sound sound<span style="color:#000000">,</span> <span style="color:#0057ae">const void</span> <span style="color:#000000">*</span>data<span style="color:#000000">,</span> <span style="color:#0057ae">int</span> sampleCount<span style="color:#000000">){</span>
    <span style="color:#000000; font-weight:bold">if</span> <span style="color:#000000">(</span>sound<span style="color:#000000">.</span>stream<span style="color:#000000">.</span>buffer <span style="color:#000000">!=</span> NULL<span style="color:#000000">)</span>
    <span style="color:#000000">{</span>
        <span style="color:#010181">StopAudioBuffer</span><span style="color:#000000">(</span>sound<span style="color:#000000">.</span>stream<span style="color:#000000">.</span>buffer<span style="color:#000000">);</span>
        <span style="color:#838183; font-style:italic">// TODO: May want to lock/unlock this since this data buffer is read at mixing time</span>
        <span style="color:#010181">memcpy</span><span style="color:#000000">(</span>sound<span style="color:#000000">.</span>stream<span style="color:#000000">.</span>buffer<span style="color:#000000">-&gt;</span>data<span style="color:#000000">,</span> data<span style="color:#000000">,</span> sampleCount<span style="color:#000000">*</span><span style="color:#010181">ma_get_bytes_per_frame</span><span style="color:#000000">(</span>sound<span style="color:#000000">.</span>stream<span style="color:#000000">.</span>buffer<span style="color:#000000">-&gt;</span>converter<span style="color:#000000">.</span>formatIn<span style="color:#000000">,</span> sound<span style="color:#000000">.</span>stream<span style="color:#000000">.</span>buffer<span style="color:#000000">-&gt;</span>converter<span style="color:#000000">.</span>channelsIn<span style="color:#000000">));</span>
    <span style="color:#000000">}</span>
<span style="color:#000000">}</span>
