<span style="color:#0057ae">bool</span> <span style="color:#010181">ExportMesh</span><span style="color:#000000">(</span>Mesh mesh<span style="color:#000000">,</span> <span style="color:#0057ae">const char</span> <span style="color:#000000">*</span>fileName<span style="color:#000000">){</span>
    <span style="color:#0057ae">bool</span> success <span style="color:#000000">=</span> <span style="color:#000000; font-weight:bold">false</span><span style="color:#000000">;</span>
    <span style="color:#000000; font-weight:bold">if</span> <span style="color:#000000">(</span><span style="color:#010181">IsFileExtension</span><span style="color:#000000">(</span>fileName<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;.obj&quot;</span><span style="color:#000000">))</span>
    <span style="color:#000000">{</span>
        <span style="color:#838183; font-style:italic">// Estimated data size, it should be enough...</span>
        <span style="color:#0057ae">int</span> dataSize <span style="color:#000000">=</span> mesh<span style="color:#000000">.</span>vertexCount<span style="color:#000000">*(</span><span style="color:#0057ae">int</span><span style="color:#000000">)</span><span style="color:#010181">strlen</span><span style="color:#000000">(</span><span style="color:#bf0303">&quot;v 0000.00f 0000.00f 0000.00f&quot;</span><span style="color:#000000">) +</span>
                       mesh<span style="color:#000000">.</span>vertexCount<span style="color:#000000">*(</span><span style="color:#0057ae">int</span><span style="color:#000000">)</span><span style="color:#010181">strlen</span><span style="color:#000000">(</span><span style="color:#bf0303">&quot;vt 0.000f 0.00f&quot;</span><span style="color:#000000">) +</span>
                       mesh<span style="color:#000000">.</span>vertexCount<span style="color:#000000">*(</span><span style="color:#0057ae">int</span><span style="color:#000000">)</span><span style="color:#010181">strlen</span><span style="color:#000000">(</span><span style="color:#bf0303">&quot;vn 0.000f 0.00f 0.00f&quot;</span><span style="color:#000000">) +</span>
                       mesh<span style="color:#000000">.</span>triangleCount<span style="color:#000000">*(</span><span style="color:#0057ae">int</span><span style="color:#000000">)</span><span style="color:#010181">strlen</span><span style="color:#000000">(</span><span style="color:#bf0303">&quot;f 00000/00000/00000 00000/00000/00000 00000/00000/00000&quot;</span><span style="color:#000000">);</span>
        <span style="color:#838183; font-style:italic">// NOTE: Text data buffer size is estimated considering mesh data size</span>
        <span style="color:#0057ae">char</span> <span style="color:#000000">*</span>txtData <span style="color:#000000">= (</span><span style="color:#0057ae">char</span> <span style="color:#000000">*)</span><span style="color:#010181">RL_CALLOC</span><span style="color:#000000">(</span>dataSize<span style="color:#000000">*</span><span style="color:#b07e00">2</span> <span style="color:#000000">+</span> <span style="color:#b07e00">2000</span><span style="color:#000000">,</span> <span style="color:#000000; font-weight:bold">sizeof</span><span style="color:#000000">(</span><span style="color:#0057ae">char</span><span style="color:#000000">));</span>
        <span style="color:#0057ae">int</span> byteCount <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# //////////////////////////////////////////////////////////////////////////////////</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# //                                                                              //</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# // rMeshOBJ exporter v1.0 - Mesh exported as triangle faces and not optimized   //</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# //                                                                              //</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# // more info and bugs-report:  github.com/raysan5/raylib                        //</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# // feedback and support:       ray[at]raylib.com                                //</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# //                                                                              //</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# // Copyright (c) 2018-2023 Ramon Santamaria (&#64;raysan5)                          //</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# //                                                                              //</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# //////////////////////////////////////////////////////////////////////////////////</span><span style="color:#ff00ff">\n\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# Vertex Count:     %i</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">,</span> mesh<span style="color:#000000">.</span>vertexCount<span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;# Triangle Count:   %i</span><span style="color:#ff00ff">\n\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">,</span> mesh<span style="color:#000000">.</span>triangleCount<span style="color:#000000">);</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;g mesh</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        <span style="color:#000000; font-weight:bold">for</span> <span style="color:#000000">(</span><span style="color:#0057ae">int</span> i <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">,</span> v <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span> i <span style="color:#000000">&lt;</span> mesh<span style="color:#000000">.</span>vertexCount<span style="color:#000000">;</span> i<span style="color:#000000">++,</span> v <span style="color:#000000">+=</span> <span style="color:#b07e00">3</span><span style="color:#000000">)</span>
        <span style="color:#000000">{</span>
            byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;v %.2f %.2f %.2f</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">,</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>v<span style="color:#000000">],</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>v <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">],</span> mesh<span style="color:#000000">.</span>vertices<span style="color:#000000">[</span>v <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">]);</span>
        <span style="color:#000000">}</span>
        <span style="color:#000000; font-weight:bold">for</span> <span style="color:#000000">(</span><span style="color:#0057ae">int</span> i <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">,</span> v <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span> i <span style="color:#000000">&lt;</span> mesh<span style="color:#000000">.</span>vertexCount<span style="color:#000000">;</span> i<span style="color:#000000">++,</span> v <span style="color:#000000">+=</span> <span style="color:#b07e00">2</span><span style="color:#000000">)</span>
        <span style="color:#000000">{</span>
            byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;vt %.3f %.3f</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">,</span> mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>v<span style="color:#000000">],</span> mesh<span style="color:#000000">.</span>texcoords<span style="color:#000000">[</span>v <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">]);</span>
        <span style="color:#000000">}</span>
        <span style="color:#000000; font-weight:bold">for</span> <span style="color:#000000">(</span><span style="color:#0057ae">int</span> i <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">,</span> v <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span> i <span style="color:#000000">&lt;</span> mesh<span style="color:#000000">.</span>vertexCount<span style="color:#000000">;</span> i<span style="color:#000000">++,</span> v <span style="color:#000000">+=</span> <span style="color:#b07e00">3</span><span style="color:#000000">)</span>
        <span style="color:#000000">{</span>
            byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;vn %.3f %.3f %.3f</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">,</span> mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>v<span style="color:#000000">],</span> mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>v <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">],</span> mesh<span style="color:#000000">.</span>normals<span style="color:#000000">[</span>v <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">]);</span>
        <span style="color:#000000">}</span>
        <span style="color:#000000; font-weight:bold">if</span> <span style="color:#000000">(</span>mesh<span style="color:#000000">.</span>indices <span style="color:#000000">!=</span> NULL<span style="color:#000000">)</span>
        <span style="color:#000000">{</span>
            <span style="color:#000000; font-weight:bold">for</span> <span style="color:#000000">(</span><span style="color:#0057ae">int</span> i <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">,</span> v <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">;</span> i <span style="color:#000000">&lt;</span> mesh<span style="color:#000000">.</span>triangleCount<span style="color:#000000">;</span> i<span style="color:#000000">++,</span> v <span style="color:#000000">+=</span> <span style="color:#b07e00">3</span><span style="color:#000000">)</span>
            <span style="color:#000000">{</span>
                byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;f %i/%i/%i %i/%i/%i %i/%i/%i</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">,</span>
                    mesh<span style="color:#000000">.</span>indices<span style="color:#000000">[</span>v<span style="color:#000000">] +</span> <span style="color:#b07e00">1</span><span style="color:#000000">,</span> mesh<span style="color:#000000">.</span>indices<span style="color:#000000">[</span>v<span style="color:#000000">] +</span> <span style="color:#b07e00">1</span><span style="color:#000000">,</span> mesh<span style="color:#000000">.</span>indices<span style="color:#000000">[</span>v<span style="color:#000000">] +</span> <span style="color:#b07e00">1</span><span style="color:#000000">,</span>
                    mesh<span style="color:#000000">.</span>indices<span style="color:#000000">[</span>v <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">] +</span> <span style="color:#b07e00">1</span><span style="color:#000000">,</span> mesh<span style="color:#000000">.</span>indices<span style="color:#000000">[</span>v <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">] +</span> <span style="color:#b07e00">1</span><span style="color:#000000">,</span> mesh<span style="color:#000000">.</span>indices<span style="color:#000000">[</span>v <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">] +</span> <span style="color:#b07e00">1</span><span style="color:#000000">,</span>
                    mesh<span style="color:#000000">.</span>indices<span style="color:#000000">[</span>v <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">] +</span> <span style="color:#b07e00">1</span><span style="color:#000000">,</span> mesh<span style="color:#000000">.</span>indices<span style="color:#000000">[</span>v <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">] +</span> <span style="color:#b07e00">1</span><span style="color:#000000">,</span> mesh<span style="color:#000000">.</span>indices<span style="color:#000000">[</span>v <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">] +</span> <span style="color:#b07e00">1</span><span style="color:#000000">);</span>
            <span style="color:#000000">}</span>
        <span style="color:#000000">}</span>
        <span style="color:#000000; font-weight:bold">else</span>
        <span style="color:#000000">{</span>
            <span style="color:#000000; font-weight:bold">for</span> <span style="color:#000000">(</span><span style="color:#0057ae">int</span> i <span style="color:#000000">=</span> <span style="color:#b07e00">0</span><span style="color:#000000">,</span> v <span style="color:#000000">=</span> <span style="color:#b07e00">1</span><span style="color:#000000">;</span> i <span style="color:#000000">&lt;</span> mesh<span style="color:#000000">.</span>triangleCount<span style="color:#000000">;</span> i<span style="color:#000000">++,</span> v <span style="color:#000000">+=</span> <span style="color:#b07e00">3</span><span style="color:#000000">)</span>
            <span style="color:#000000">{</span>
                byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;f %i/%i/%i %i/%i/%i %i/%i/%i</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">,</span> v<span style="color:#000000">,</span> v<span style="color:#000000">,</span> v<span style="color:#000000">,</span> v <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">,</span> v <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">,</span> v <span style="color:#000000">+</span> <span style="color:#b07e00">1</span><span style="color:#000000">,</span> v <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">,</span> v <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">,</span> v <span style="color:#000000">+</span> <span style="color:#b07e00">2</span><span style="color:#000000">);</span>
            <span style="color:#000000">}</span>
        <span style="color:#000000">}</span>
        byteCount <span style="color:#000000">+=</span> <span style="color:#010181">sprintf</span><span style="color:#000000">(</span>txtData <span style="color:#000000">+</span> byteCount<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;</span><span style="color:#ff00ff">\n</span><span style="color:#bf0303">&quot;</span><span style="color:#000000">);</span>
        <span style="color:#838183; font-style:italic">// NOTE: Text data length exported is determined by &apos;\0&apos; (NULL) character</span>
        success <span style="color:#000000">=</span> <span style="color:#010181">SaveFileText</span><span style="color:#000000">(</span>fileName<span style="color:#000000">,</span> txtData<span style="color:#000000">);</span>
        <span style="color:#010181">RL_FREE</span><span style="color:#000000">(</span>txtData<span style="color:#000000">);</span>
    <span style="color:#000000">}</span>
    <span style="color:#000000; font-weight:bold">else if</span> <span style="color:#000000">(</span><span style="color:#010181">IsFileExtension</span><span style="color:#000000">(</span>fileName<span style="color:#000000">,</span> <span style="color:#bf0303">&quot;.raw&quot;</span><span style="color:#000000">))</span>
    <span style="color:#000000">{</span>
        <span style="color:#838183; font-style:italic">// TODO: Support additional file formats to export mesh vertex data</span>
    <span style="color:#000000">}</span>
    <span style="color:#000000; font-weight:bold">return</span> success<span style="color:#000000">;</span>
<span style="color:#000000">}</span>
